<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestione Dispensa e Menu Settimanale</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #000000;
            color: #ffffff;
        }
        h1 {
            text-align: center;
            color: #ffffff;
        }
        .container {
            display: block;
            margin: 0 auto;
            max-width: 1200px;
        }
        .form-section, .menu-section {
            background-color: #1c1c1c;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .form-section input, .form-section select, .form-section button {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            margin-top: 5px;
            border-radius: 5px;
            border: 1px solid #444444;
            background-color: #333333;
            color: #ffffff;
        }
        .form-section input::placeholder {
            color: #999999;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        table, th, td {
            border: 1px solid #444444;
        }
        th, td {
            padding: 8px;
            text-align: center;
        }
        .menu-section table {
            margin-top: 20px;
        }
        .menu-section select {
            width: 100px;
            background-color: #333333;
            color: #ffffff;
            border: 1px solid #444444;
            padding: 5px;
            border-radius: 5px;
        }
        button {
            background-color: #27ae60;
            color: #ffffff;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #2ecc71;
        }
    </style>
</head>
<body>

<h1>Gestione Dispensa e Menu Settimanale</h1>

<div class="container">
    <!-- Sezione Dispensa -->
    <div class="form-section">
        <h2>Inserisci Articoli in Dispensa</h2>
        <input type="text" id="nomeArticolo" placeholder="Nome Articolo" required>
        <input type="text" id="descrizioneArticolo" placeholder="Descrizione">
        <input type="number" id="quantitaArticolo" placeholder="Quantità" required>
        <input type="text" id="unitaArticolo" placeholder="Unità di Misura" required>
        <input type="number" id="numeroArticolo" placeholder="Numero" required>
        <button onclick="aggiungiArticolo()">Aggiungi Articolo</button>
        
        <h3>Articoli in Dispensa</h3>
        <table id="tabellaDispensa">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Descrizione</th>
                    <th>Quantità</th>
                    <th>Unità</th>
                    <th>Numero</th>
                </tr>
            </thead>
            <tbody>
                <!-- Gli articoli verranno aggiunti qui -->
            </tbody>
        </table>
    </div>

    <!-- Sezione Menu Settimanale -->
    <div class="menu-section">
        <h2>Menu Settimanale</h2>
        <table>
            <thead>
                <tr>
                    <th>Giorno</th>
                    <th>Pranzo</th>
                    <th>Cena</th>
                </tr>
            </thead>
            <tbody>
                <!-- Giorni della settimana -->
                <tr>
                    <td>Lunedì</td>
                    <td><select class="ingrediente" data-giorno="Lunedì" data-pasto="Pranzo"></select></td>
                    <td><select class="ingrediente" data-giorno="Lunedì" data-pasto="Cena"></select></td>
                </tr>
                <tr>
                    <td>Martedì</td>
                    <td><select class="ingrediente" data-giorno="Martedì" data-pasto="Pranzo"></select></td>
                    <td><select class="ingrediente" data-giorno="Martedì" data-pasto="Cena"></select></td>
                </tr>
                <tr>
                    <td>Mercoledì</td>
                    <td><select class="ingrediente" data-giorno="Mercoledì" data-pasto="Pranzo"></select></td>
                    <td><select class="ingrediente" data-giorno="Mercoledì" data-pasto="Cena"></select></td>
                </tr>
                <tr>
                    <td>Giovedì</td>
                    <td><select class="ingrediente" data-giorno="Giovedì" data-pasto="Pranzo"></select></td>
                    <td><select class="ingrediente" data-giorno="Giovedì" data-pasto="Cena"></select></td>
                </tr>
                <tr>
                    <td>Venerdì</td>
                    <td><select class="ingrediente" data-giorno="Venerdì" data-pasto="Pranzo"></select></td>
                    <td><select class="ingrediente" data-giorno="Venerdì" data-pasto="Cena"></select></td>
                </tr>
                <tr>
                    <td>Sabato</td>
                    <td><select class="ingrediente" data-giorno="Sabato" data-pasto="Pranzo"></select></td>
                    <td><select class="ingrediente" data-giorno="Sabato" data-pasto="Cena"></select></td>
                </tr>
                <tr>
                    <td>Domenica</td>
                    <td><select class="ingrediente" data-giorno="Domenica" data-pasto="Pranzo"></select></td>
                    <td><select class="ingrediente" data-giorno="Domenica" data-pasto="Cena"></select></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<script>
// Funzione per aggiungere articoli alla dispensa
let dispensa = [];

function aggiungiArticolo() {
    const nome = document.getElementById('nomeArticolo').value;
    const descrizione = document.getElementById('descrizioneArticolo').value;
    const quantita = document.getElementById('quantitaArticolo').value;
    const unita = document.getElementById('unitaArticolo').value;
    const numero = document.getElementById('numeroArticolo').value;

    if (nome && quantita && unita && numero) {
        const articolo = { nome, descrizione, quantita, unita, numero };
        dispensa.push(articolo);
        aggiornaDispensa();
        // Svuota i campi dopo l'inserimento
        document.getElementById('nomeArticolo').value = '';
        document.getElementById('descrizioneArticolo').value = '';
        document.getElementById('quantitaArticolo').value = '';
        document.getElementById('unitaArticolo').value = '';
        document.getElementById('numeroArticolo').value = '';
    } else {
        alert("Nome, Quantità, Unità e Numero sono obbligatori.");
    }
}

// Funzione per aggiornare la tabella della dispensa
function aggiornaDispensa() {
    const tabellaDispensa = document.getElementById('tabellaDispensa').getElementsByTagName('tbody')[0];
    tabellaDispensa.innerHTML = ''; // Pulisce la tabella prima di ricaricarla

    dispensa.forEach(articolo => {
        const row = tabellaDispensa.insertRow();
        row.innerHTML = `
            <td>${articolo.nome}</td>
            <td>${articolo.descrizione || '-'}</td>
            <td>${articolo.quantita}</td>
            <td>${articolo.unita}</td>
            <td>${articolo.numero}</td>
        `;
    });

    aggiornaMenu();  // Aggiorna il menu solo quando ci sono articoli nella dispensa
}

// Funzione per aggiornare i menu settimanali con gli ingredienti disponibili
function aggiornaMenu() {
    const selectElements = document.querySelectorAll('.ingrediente');
    selectElements.forEach(select => {
        select.innerHTML = ''; // Pulisce le opzioni
        dispensa.forEach(articolo => {
            const option = document.createElement('option');
            option.value = articolo.nome;
            option.textContent = `${articolo.nome} (${articolo.unita})`;
            select.appendChild(option);
        });
    });
}

</script>

</body>
</html>
